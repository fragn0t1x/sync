# Сервис синхронизации файлов

## Описание

Приложение синхронизирует файлы между локальной папкой на компьютере пользователя и удалённым облачным хранилищем (Яндекс.Диск).  
Сервис отслеживает добавление, изменение и удаление файлов в локальной папке и отражает эти изменения в облаке.

---

## Основные возможности

- Связывает локальную папку с папкой на Яндекс.Диске.
- Регулярно проверяет изменения в локальной папке с заданным интервалом.
- Загружает новые файлы на Яндекс.Диск.
- Обновляет изменённые файлы в облаке.
- Удаляет с облака файлы, которые удалены локально.
- Логирует все операции и ошибки в указанный файл лога.
- Обрабатывает ошибки чтения файлов и работы с сетью без остановки программы.
- Удобно расширяется для поддержки других облачных сервисов за счёт отдельного класса для работы с API.

---

## Структура проекта

sync/  
│  
├── cloud_storage.py # Класс для работы с Яндекс.Диск API  
├── sync_service.py # Логика синхронизации и основная бизнес-логика  
├── main.py # Точка входа, запускает сервис  
├── config.ini # Конфигурационный файл с параметрами  
├── requirements.txt # Список зависимостей (requests)  
└── README.md # Документация по проекту

---

## Установка

1. Клонируйте репозиторий и перейдите в папку проекта:

git clone <адрес_репозитория>  
cd project

2. Рекомендуется создать виртуальное окружение и активировать его:

python3 -m venv venv
source venv/bin/activate # Linux/Mac
venv\Scripts\activate # Windows

3. Установите зависимости:

pip install -r requirements.txt

---

## Конфигурация

Настройте параметры в файле `config.ini`:

[Settings]  
local_folder = /путь/к/локальной/папке  
cloud_folder_name = имя_папки_на_Яндекс_Диске  
token = ВАШ_ТОКЕН_ЯНДЕКС_ДИСК  
sync_interval = 60  
log_file = sync.log


- **local_folder** — путь к папке для синхронизации на локальном диске.
- **cloud_folder_name** — имя папки на Яндекс.Диске для синхронизации.
- **token** — OAuth токен Яндекс.Диска с правами доступа.
- **sync_interval** — период синхронизации в секундах.
- **log_file** — файл для логирования работы сервиса.

**Важно:** Перед публикацией или передачей проекта удалите или замените реальный токен.

---

## Запуск

Запустите сервис командой:

python main.py

Программа сначала выполнит полную синхронизацию, затем будет работать циклично с указанным интервалом.

---

## Как это работает

- Приложение читает конфигурацию и настраивает логирование.
- Проверяет, что локальная папка существует, и токен корректен.
- Загружает список файлов из папки на Яндекс.Диске.
- Сравнивает локальные файлы и облачные, добавляя, обновляя или удаляя файлы в облаке.
- Все действия и ошибки записываются в файл лога.
- Исключаются системные файлы (например, `.DS_Store`).
- При ошибках доступа к файлам или сети сервис продолжает работу и логирует ошибки.

---

## Требования

- Python 3.10+
- Библиотека `requests` (установите из `requirements.txt`)

---

## Расширяемость

Вся работа с облачным хранилищем инкапсулирована в классе `YandexDiskStorage` в файле `cloud_storage.py`.  
Легко добавить поддержку другого облака, написав новый класс с методами `load`, `reload`, `delete` и `get_info`.

---

